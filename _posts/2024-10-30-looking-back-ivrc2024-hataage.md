---
title: IVRC2024「ハタ揚げVR」の制作を振り返って思うこと
date: 2024-10-30 07:00:00 +0900
categories: [Misc]
tags: [misc]
---

## はじめに

IVRC2024に出展した企画「[引っ張る！切る！ハタ揚げVR](https://conference.vrsj.org/ac2024/program/doc/IVRC-13.pdf)」において、企画・制作ディレクションを行いました。

その立場として制作を振り返って思うこと、個人的に考えていたことをまとめます。

![alt](/assets/img/241029_hataage_booth.jpg)

## 企画考案から予稿作成までの試行錯誤
まず今回の企画を思いついたきっかけを振り返ってみると、3つほど心当たりがありました。

1. NHKの朝ドラ「舞いあがれ！」という作品を観て、空に憧れた少女が長崎・五島で凧を挙げるシーンが印象的に残り、そういえば地元にハタ揚げという文化があったことを思い出した。 (ちなみに「舞いあがれ！」のヒロインは"まいんちゃん"こと福原遥さんです^^)
2. 2023年の冬に参加した東大メタバースコンペティションの協賛企業のひとから、触覚とVRとの絡み合いがIVRCに通りうる魅力になることを聞いており、IVRC作品としては触覚VRをつくりたいという意識がもともとあったことから、凧の牽引力の提示は武器になるのではないかと考えた
3. ちょうどマルチプレイの実装にも取り組んでいたため、2人で遊べるハタ揚げをVRで牽引力の提示とともに楽しめる作品を企画した

自分のメモ帳を遡ってみたところ、2023年12月末には「ハタ揚げをVRでつくってみたい」というアイデアはあったようです。本当にアイデアだけですが。

![alt](/assets/img/241029_hataage_first_idea.png)

2024年4月、書類審査のための予稿を書き始めます。

きっかけを基に企画を具体化していくわけですが、アイデアを形にする手法はどのようにするのか、また企画の実現可能性をアピールするための根拠はどこにあるのかを調査することに大変に苦労しました。

(サークル内部のひとは「企画概要」のドキュメントを読んでもらうとわかると思いますが、最終的な予稿には上がっていない大量のなぐり書きが残っていますw)

この過程で過去のIVRC受賞作品を改めて見る中で得られることも多くありました。構想段階では「[かぶぬっこ](https://ivrc.net/archive/%e3%81%8b%e3%81%b6%e3%81%ac%e3%81%a3%e3%81%932023/)」を基にソレノイドを用いて牽引力の消失感を提示することや、「[自宅でも遭難がしたい！](https://ivrc.net/archive/%e8%87%aa%e5%ae%85%e3%81%a7%e3%82%82%e9%81%ad%e9%9b%a3%e3%81%8c%e3%81%97%e3%81%9f%e3%81%84%ef%bc%812022/)」で用いられていた水の出し入れによる重量変化を取り入れることも考えていました。

凧に引っ張られる力を検証するため、部室にあった焼肉のタレのボトルとスズランテープを Quest のコントローラに結びつけてテストしていたこともありました。あまりにも雑。

![alt](/assets/img/241029_hataage_pulling_test.jpg)

チームメンバーとも何度も議論を重ねているうちにノートには大量の落書きが積もっていました。

![alt](/assets/img/241029_hataage_idea_note.jpg)

KuMAでは毎年この時期にIVRCに向けた企画書をつくっていますが、ここまでしっかりと試行錯誤を繰り返しながら議論を重ねたのは初めてなのではないか、と感じていました。(もちろん本来は当たり前のことなのかもしれないですが……)


## 制作は、ただつくるだけではなかった
2024年6月中旬、KuMAとしては2021年以来にIVRCの書類審査を通過しました。そこからは9月の SEED Stage に向けて大急ぎで制作を進めていきます。

今回の制作にあたっては、個人的にひとつ大きな目標を掲げました。それは「**KuMAの制作のモデルケースを目指そう**」ということ。

KuMAはまだまだ若いサークルです。これまでもいくつか作品をつくって展示をしてきましたが、チーム制作のノウハウの引き継ぎができているとは言い難い状況です。そこで、この作品の制作の過程がチーム制作のひとつのモデルケースとして今後のサークル全体の参考となることを目指しました。

具体的に行ったことを2つほど紹介します。

1. プロジェクト管理ボードの導入

チーム制作では、誰が何をやっているのかを把握しておくことが必要です。プロジェクトが大きくなればなるほどその重要さは高まると思います。

そこで、「XXをつくる」や「XXの調整をする」といった制作上のタスクから、「発表スライド提出」や「出展エリアの確認」などの事務的タスクまで、一括で管理するボードを Google スプレッドシートで作成し、チームで共有しました。

![alt](/assets/img/241029_hataage_task_board.jpg)

担当しているひとや締切、ステータス (まだ・なう・完了)、成果物を貼り付ける場所などを用意しています。

ちなみにこれはスプレッドシートの `挿入>表` から追加できるテンプレートを基にカスタムしています。

2. GitHub の活用

チームのメンバーそれぞれで Unity や Arduino のコードを共有するため、またコードの履歴を保存する目的として GitHub によるコード管理を徹底しました。

部室のPCのほかに各自のPCでも開発を行うため、コードを共有するツールとしての活用が主でした。Unity 以外のコード・ドキュメントをまとめるためのブランチもあります。

また Git の利点である「履歴の保存」も大いに役に立ちました。制作の途中で過去のバージョンに戻したいとなったときに、変更点を確認しながら簡単に遡ることができました。

Git や GitHub のつかいかたを満足に周知することができていたかは不安ですが、最低限どのように使えばよいかは共有することができたと思っています。

今後もたとえばコミットの粒度やブランチの扱い、トラブル対応の部分など、少しずつでもチーム制作で活用するために試行錯誤を進めてもらえたら嬉しいです。

---

このような工夫が今後のKuMAの制作に何らかの形で役立てば幸いです。

## いろんな技術を取り入れた

ハタ揚げVRでは多くの技術にトライしました。企画の大きな柱として「VR・マルチプレイ・ハードウェアとの連携」の3つの柱があったように思います。

用いた技術のそれぞれについての詳細はどこかにまとめると思います。

多くの技術を複合的に取り入れた制作では、多角的な視点から考慮することが求められました。KuMAとして制作してきたここ3年間の作品のほとんどは「VRゲーム」の部分だけを考慮してきたため、多くの要素を絡ませながらの制作はほぼ初めての挑戦でした。

しかし、今後もIVRCを始めとしたコンテストに通るような作品をつくるためにはハードウェアも絡めた制作の経験が欠かせないという思いもあります。先述した「モデルケースになる」という目標のためにも頑張る必要があると考えていました。

もっとも、企画・ディレクションを行う自分はそれらのすべてを考えながらチームの舵取りを行いましたが、思い至らない部分が多くメンバーに迷惑をかけることが何度もありました。ごめん。

## 制作しながら感じた自分の限界とメンバーの凄さ

制作にあたって私が担当したのは Unity で動く部分のほとんどと Arduino によるハード制御の部分でした。

大きく苦労したところと言えば、マルチプレイのフレームワークである Netcode for GameObjects がまだまだ発展中のソフトであるため情報が少なく、またそれをVR作品に応用しているとなるとほとんど既存の情報がなかったことです。公式のドキュメントを読み漁ったり、メンバーが考案してくれた仕組みを取り入れたり、既存の情報から推測して組み立てたり……いろいろと試行錯誤の連続でした。

また、Arduino にしばらく触れていなかったことやサーボモータの回路で考慮すべきことを知らなかったことから、ハードウェア担当メンバーへの指示が甘くなってしまったことも反省すべき点です。いままでソフトの知識ばかりに傾倒して電子回路から逃げてきたツケが周ってきた感じですね……。

そのような経緯から、始めに想定していたよりも多くのことを考慮しなければいけないことに制作を進めていくうちに気づきました。

制作の中盤、世間では夏休みでしたが、自分はと言えば土日もお盆休みもモニタに向かい合ってキーボードを叩く日々でした。あれを試してはこの課題が見つかり、この課題を解決するのには別のことを考えなければならない……一進一退の制作でした。

幸いにもチームメンバーが多くいたおかげで、ある程度の部分についてはお願いをできました。とは言っても自分が担当していた量はいま振り返ってみてもそれなりにあったように思いますw

文字通り1日中デスクに座ってソフトウェアを組んでいく日々が続き、食生活が疎かになったり運動不足になったりして友人からはキツくお叱りを受けたりもしました。おかげで野菜ジュースを飲む習慣がつきました。

しかしその一方で、メンバーの様子を見ているとメキメキと腕を伸ばしていく様子を何度も見かけました。モデリングを担当してくれたメンバーはゲーム内モデルだけにとどまらず、ハードウェアのパーツを3Dプリントで設計して加工するところまで頑張っていました。

展示や広報に必要なポスターや各種グラフィックを担当してくれたメンバーも、どんどんおしゃれなデザインを提案してくれて本当に助かりました。デザインセンスが皆無な自分では絶対にできない分野です。

ほんとうに頼りになるメンバーばかりで、彼らがどんどん成長していくのも間近で見られたのが何より嬉しかったです。

![alt](/assets/img/241029_modeling.jpg)

## KuMA最大規模の展示で工夫したこと

SEED/LEAP のいずれの展示も、KuMAとしての展示活動では最大規模のものでした。とくに LEAP Stage の会場は子どもから年輩の方までが幅広く来場するということで、展示にあたっては快適性や安全性の観点から工夫をこらしました。

まず、使用する Quest につなぐケーブルがどうしても邪魔になってしまうことを危惧しました。PC上で実行する必要こそないものの、給電や画面ミラーリングのためにケーブルをつなぐことは避けられません。(無線ミラーリングという手はありますが、1日中展示するため給電は不可欠でした)

そこで、展示装置の支柱やフックを利用し、ケーブルが体験者の導線上に被ったり足元に広がったりしないように配慮しました。

![alt](/assets/img/241029_hataage_cable.jpg)

足元に配置せざるを得ない Arduino や電源のケーブルについても可能な限り本数を減らしつつ、どうしても露出する部分は養生テープで保護しました。

また、展示の安全面とは関係ないかもしれませんが、運営側から「小学生のVR体験には保護者の承認を得るように」という基準に準拠するため、その説明を行うパネルを作成しておきました。これのおかげで保護者の方々への説明をする際もスムーズに行えたと感じます。

![alt](/assets/img/241029_hataage_safety_guide.jpg)

## 自信になったこともある

VRゲームを実行する環境としては、Quest Link でPCに接続し、PC上の Unity Editor を実行する方式と、パッケージ化したアプリを Quest にインストールし、Quest 単体で動作させる二通りの選択肢があります。

ハタ揚げVRではスタンドアローン動作、つまり後者の方法で実行することにこだわりました。

これは、作品のアピールポイントでもある「どこでも手軽に体験できる」を主張するためのひとつの要素であることや、ハードウェアとの連携までを Quest に内包する技術的な挑戦をしたかったからです。

LEAP Stage での展示において、少なくとも自分が観測した限りではフランスの Laval チームも含めどのチームも前者の方法でゲームを実行していました。**スタンドアローン動作をさせていたのはKuMAだけだった**ということです。この点は、ハードの制御を含めた多くの要素をひとつのアプリパッケージとしてまとめ上げたとして、十分に誇れる部分なのではないかと思います。

(余計な努力と言われればそれまでかもしれませんが……)

また、VR作品の展示を効率化するために、展示用のユーティリティも作成・活用しました。

![alt](/assets/img/241029_exhibition-utility.png)

技術的な解説は[別ページ](https://kuma-org.github.io/IVRC2024_Hataage/exhibition-utility.html)で行っていますが、このソフトのおかげで、Quest をかぶることなくPCからゲーム内の操作を行えたり、マルチプレイ用に複数の Quest の同時ミラーリングを行えたりと、様々なことを行えるようになりました。

いままでのKuMAの展示活動を通して、VR作品を展示する際に内部の画面が見えないと困ることや、初心者である体験者に操作を任せるのは大変であることを感じており、その反省が活かされた形です。

## 最後に

2021年に私はKuMAに加入しました。コロナ禍で大学に満足に行くこともできず、サークル活動も Discord でのテキスト上のやり取りばかりで乗り込めなかった時期でした。そんな中でKuMAの先輩方は「もふもふ」の制作を進め、特殊な状況とはいえ LEAP Stage まで作品を届けました。私も微かながら「[炎上ノ消防隊](https://protopedia.net/prototype/2731)」の制作に加わりました。

翌年、「[VRで粉じん爆発](https://protopedia.net/prototype/3529)」の企画を主導しました。これは私が初めてメインとなって制作した作品になりました。プログラムの楽しさとチーム制作の大変さを学び、そして私はこの制作後からKuMAの代表としてサークルを率いることになりました。

KuMAの代表となってからは、自分の持てる力を可能な限り捧げて組織を高めたいという、ある意味ではワガママな気持ちで前に進んできました。サークル外部からの展示にお誘いされるようになったのもこの頃からで、対外的なやり取りも増えました。展示のために役に立つことや体験者へのガイド方法などのノウハウもある程度は蓄積できたように感じます。

そして今回、3年ぶりにIVRCの書類審査を通過する作品を送り出すことができました。

作品の制作や SEED/LEAP という大きな舞台での展示は、この4年間のKuMAとしての活動の集大成のひとつだと個人的には感じています。そのような作品で、日本のVR作品のコンテストとしては最上級の場所に手を伸ばすことができました。

しかし、まだ「優勝」という最高の場所に到達する目標は残っていそうです。さらなる高みを目指して、来年からもがんばってほしいなぁと身勝手に思っています。

では、ひとまず半年間おつかれさまでした。